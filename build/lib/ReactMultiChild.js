define("kg/react/0.0.2/lib/ReactMultiChild",["./ReactComponent","./ReactMultiChildUpdateTypes","./flattenChildren","./instantiateReactComponent","./shouldUpdateReactComponent"],function(n,e,t){"use strict";function o(n,e,t){_.push({parentID:n,parentNode:null,type:a.INSERT_MARKUP,markupIndex:I.push(e)-1,textContent:null,fromIndex:null,toIndex:t})}function r(n,e,t){_.push({parentID:n,parentNode:null,type:a.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:t})}function i(n,e){_.push({parentID:n,parentNode:null,type:a.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function d(n,e){_.push({parentID:n,parentNode:null,type:a.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function u(){_.length&&(h.BackendIDOperations.dangerouslyProcessChildrenUpdates(_,I),l())}function l(){_.length=0,I.length=0}var h=n("./ReactComponent"),a=n("./ReactMultiChildUpdateTypes"),m=n("./flattenChildren"),p=n("./instantiateReactComponent"),s=n("./shouldUpdateReactComponent"),C=0,_=[],I=[],f={Mixin:{mountChildren:function(n,e){var t=m(n),o=[],r=0;this._renderedChildren=t;for(var i in t){var d=t[i];if(t.hasOwnProperty(i)){var u=p(d,null);t[i]=u;var l=this._rootNodeID+i,h=u.mountComponent(l,e,this._mountDepth+1);u._mountIndex=r,o.push(h),r++}}return o},updateTextContent:function(n){C++;var e=!0;try{var t=this._renderedChildren;for(var o in t)t.hasOwnProperty(o)&&this._unmountChildByName(t[o],o);this.setTextContent(n),e=!1}finally{C--,C||(e?l():u())}},updateChildren:function(n,e){C++;var t=!0;try{this._updateChildren(n,e),t=!1}finally{C--,C||(t?l():u())}},_updateChildren:function(n,e){var t=m(n),o=this._renderedChildren;if(t||o){var r,i=0,d=0;for(r in t)if(t.hasOwnProperty(r)){var u=o&&o[r],l=u&&u._currentElement,h=t[r];if(s(l,h))this.moveChild(u,d,i),i=Math.max(u._mountIndex,i),u.receiveComponent(h,e),u._mountIndex=d;else{u&&(i=Math.max(u._mountIndex,i),this._unmountChildByName(u,r));var a=p(h,null);this._mountChildByNameAtIndex(a,r,d,e)}d++}for(r in o)!o.hasOwnProperty(r)||t&&t[r]||this._unmountChildByName(o[r],r)}},unmountChildren:function(){var n=this._renderedChildren;for(var e in n){var t=n[e];t.unmountComponent&&t.unmountComponent()}this._renderedChildren=null},moveChild:function(n,e,t){n._mountIndex<t&&r(this._rootNodeID,n._mountIndex,e)},createChild:function(n,e){o(this._rootNodeID,e,n._mountIndex)},removeChild:function(n){i(this._rootNodeID,n._mountIndex)},setTextContent:function(n){d(this._rootNodeID,n)},_mountChildByNameAtIndex:function(n,e,t,o){var r=this._rootNodeID+e,i=n.mountComponent(r,o,this._mountDepth+1);n._mountIndex=t,this.createChild(n,i),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[e]=n},_unmountChildByName:function(n,e){this.removeChild(n),n._mountIndex=null,n.unmountComponent(),delete this._renderedChildren[e]}}};t.exports=f});