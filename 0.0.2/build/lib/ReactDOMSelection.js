define("kg/react/0.0.2/lib/ReactDOMSelection",["./ExecutionEnvironment","./getNodeForCharacterOffset","./getTextContentAccessor"],function(e,t,n){"use strict";function o(e,t,n,o){return e===n&&t===o}function r(e){var t=document.selection,n=t.createRange(),o=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var a=r.text.length,s=a+o;return{start:a,end:s}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,a=t.focusNode,s=t.focusOffset,c=t.getRangeAt(0),d=o(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),f=d?0:c.toString().length,i=c.cloneRange();i.selectNodeContents(e),i.setEnd(c.startContainer,c.startOffset);var g=o(i.startContainer,i.startOffset,i.endContainer,i.endOffset),u=g?0:i.toString().length,l=u+f,v=document.createRange();v.setStart(n,r),v.setEnd(a,s);var m=v.collapsed;return{start:m?l:u,end:m?u:l}}function s(e,t){var n,o,r=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,o=n):t.start>t.end?(n=t.end,o=t.start):(n=t.start,o=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",o-n),r.select()}function c(e,t){if(window.getSelection){var n=window.getSelection(),o=e[i()].length,r=Math.min(t.start,o),a="undefined"==typeof t.end?r:Math.min(t.end,o);if(!n.extend&&r>a){var s=a;a=r,r=s}var c=f(e,r),d=f(e,a);if(c&&d){var g=document.createRange();g.setStart(c.node,c.offset),n.removeAllRanges(),r>a?(n.addRange(g),n.extend(d.node,d.offset)):(g.setEnd(d.node,d.offset),n.addRange(g))}}}var d=e("./ExecutionEnvironment"),f=e("./getNodeForCharacterOffset"),i=e("./getTextContentAccessor"),g=d.canUseDOM&&document.selection,u={getOffsets:g?r:a,setOffsets:g?s:c};n.exports=u});