define("kg/react/0.0.2/lib/ReactCompositeComponent",["./ReactComponent","./ReactContext","./ReactCurrentOwner","./ReactElement","./ReactElementValidator","./ReactEmptyComponent","./ReactErrorUtils","./ReactLegacyElement","./ReactOwner","./ReactPerf","./ReactPropTransferer","./ReactPropTypeLocations","./ReactPropTypeLocationNames","./ReactUpdates","./Object.assign","./instantiateReactComponent","./invariant","./keyMirror","./keyOf","./monitorCodeUse","./mapObject","./shouldUpdateReactComponent","./warning"],function(t,e,n){"use strict";function o(t){var e=t._owner||null;return e&&e.constructor&&e.constructor.displayName?" Check the render method of `"+e.constructor.displayName+"`.":""}function i(t,e,n){for(var o in e)e.hasOwnProperty(o)&&("production"!==process.env.NODE_ENV?x("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactCompositeComponent",M[n],o):x("function"==typeof e[o]))}function s(t,e){var n=Y.hasOwnProperty(e)?Y[e]:null;B.hasOwnProperty(e)&&("production"!==process.env.NODE_ENV?x(n===w.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e):x(n===w.OVERRIDE_BASE)),t.hasOwnProperty(e)&&("production"!==process.env.NODE_ENV?x(n===w.DEFINE_MANY||n===w.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e):x(n===w.DEFINE_MANY||n===w.DEFINE_MANY_MERGED))}function r(t){var e=t._compositeLifeCycleState;"production"!==process.env.NODE_ENV?x(t.isMounted()||e===G.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."):x(t.isMounted()||e===G.MOUNTING),"production"!==process.env.NODE_ENV?x(null==h.current,"replaceState(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."):x(null==h.current),"production"!==process.env.NODE_ENV?x(e!==G.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component."):x(e!==G.UNMOUNTING)}function a(t,e){if(e){"production"!==process.env.NODE_ENV?x(!y.isValidFactory(e),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."):x(!y.isValidFactory(e)),"production"!==process.env.NODE_ENV?x(!_.isValidElement(e),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object."):x(!_.isValidElement(e));var n=t.prototype;e.hasOwnProperty(P)&&j.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==P){var i=e[o];if(s(n,o),j.hasOwnProperty(o))j[o](t,i);else{var r=Y.hasOwnProperty(o),a=n.hasOwnProperty(o),p=i&&i.__reactDontBind,c="function"==typeof i,d=c&&!r&&!a&&!p;if(d)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=i,n[o]=i;else if(a){var m=Y[o];"production"!==process.env.NODE_ENV?x(r&&(m===w.DEFINE_MANY_MERGED||m===w.DEFINE_MANY),"ReactCompositeComponent: Unexpected spec policy %s for key %s when mixing in component specs.",m,o):x(r&&(m===w.DEFINE_MANY_MERGED||m===w.DEFINE_MANY)),m===w.DEFINE_MANY_MERGED?n[o]=u(n[o],i):m===w.DEFINE_MANY&&(n[o]=l(n[o],i))}else n[o]=i,"production"!==process.env.NODE_ENV&&"function"==typeof i&&e.displayName&&(n[o].displayName=e.displayName+"_"+o)}}}}function p(t,e){if(e)for(var n in e){var o=e[n];if(e.hasOwnProperty(n)){var i=n in j;"production"!==process.env.NODE_ENV?x(!i,'ReactCompositeComponent: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n):x(!i);var s=n in t;"production"!==process.env.NODE_ENV?x(!s,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):x(!s),t[n]=o}}}function c(t,e){return"production"!==process.env.NODE_ENV?x(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"):x(t&&e&&"object"==typeof t&&"object"==typeof e),V(e,function(e,n){"production"!==process.env.NODE_ENV?x(void 0===t[n],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n):x(void 0===t[n]),t[n]=e}),t}function u(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);return null==n?o:null==o?n:c(n,o)}}function l(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}var d=t("./ReactComponent"),m=t("./ReactContext"),h=t("./ReactCurrentOwner"),_=t("./ReactElement"),E=t("./ReactElementValidator"),N=t("./ReactEmptyComponent"),f=t("./ReactErrorUtils"),y=t("./ReactLegacyElement"),C=t("./ReactOwner"),D=t("./ReactPerf"),v=t("./ReactPropTransferer"),g=t("./ReactPropTypeLocations"),M=t("./ReactPropTypeLocationNames"),R=t("./ReactUpdates"),O=t("./Object.assign"),I=t("./instantiateReactComponent"),x=t("./invariant"),U=t("./keyMirror"),b=t("./keyOf"),T=t("./monitorCodeUse"),V=t("./mapObject"),A=t("./shouldUpdateReactComponent"),S=t("./warning"),P=b({mixins:null}),w=U({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),F=[],Y={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},j={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)a(t,e[n])},childContextTypes:function(t,e){i(t,e,g.childContext),t.childContextTypes=O({},t.childContextTypes,e)},contextTypes:function(t,e){i(t,e,g.context),t.contextTypes=O({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps=t.getDefaultProps?u(t.getDefaultProps,e):e},propTypes:function(t,e){i(t,e,g.prop),t.propTypes=O({},t.propTypes,e)},statics:function(t,e){p(t,e)}},G=U({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null}),B={construct:function(){d.Mixin.construct.apply(this,arguments),C.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return d.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==G.MOUNTING},mountComponent:D.measure("ReactCompositeComponent","mountComponent",function(t,e,n){d.Mixin.mountComponent.call(this,t,e,n),this._compositeLifeCycleState=G.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._currentElement._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,"production"!==process.env.NODE_ENV?x("object"==typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"):x("object"==typeof this.state&&!Array.isArray(this.state)),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=I(this._renderValidatedComponent(),this._currentElement.type),this._compositeLifeCycleState=null;var o=this._renderedComponent.mountComponent(t,e,n+1);return this.componentDidMount&&e.getReactMountReady().enqueue(this.componentDidMount,this),o}),unmountComponent:function(){this._compositeLifeCycleState=G.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,d.Mixin.unmountComponent.call(this)},setState:function(t,e){"production"!==process.env.NODE_ENV?x("object"==typeof t||null==t,"setState(...): takes an object of state variables to update."):x("object"==typeof t||null==t),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?S(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),this.replaceState(O({},this._pendingState||this.state,t),e)},replaceState:function(t,e){r(this),this._pendingState=t,this._compositeLifeCycleState!==G.MOUNTING&&R.enqueueUpdate(this,e)},_processContext:function(t){var e=null,n=this.constructor.contextTypes;if(n){e={};for(var o in n)e[o]=t[o];"production"!==process.env.NODE_ENV&&this._checkPropTypes(n,e,g.context)}return e},_processChildContext:function(t){var e=this.getChildContext&&this.getChildContext(),n=this.constructor.displayName||"ReactCompositeComponent";if(e){"production"!==process.env.NODE_ENV?x("object"==typeof this.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",n):x("object"==typeof this.constructor.childContextTypes),"production"!==process.env.NODE_ENV&&this._checkPropTypes(this.constructor.childContextTypes,e,g.childContext);for(var o in e)"production"!==process.env.NODE_ENV?x(o in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',n,o):x(o in this.constructor.childContextTypes);return O({},t,e)}return t},_processProps:function(t){if("production"!==process.env.NODE_ENV){var e=this.constructor.propTypes;e&&this._checkPropTypes(e,t,g.prop)}return t},_checkPropTypes:function(t,e,n){var i=this.constructor.displayName;for(var s in t)if(t.hasOwnProperty(s)){var r=t[s](e,s,i,n);if(r instanceof Error){var a=o(this);"production"!==process.env.NODE_ENV?S(!1,r.message+a):null}}},performUpdateIfNecessary:function(t){var e=this._compositeLifeCycleState;if(e!==G.MOUNTING&&e!==G.RECEIVING_PROPS&&(null!=this._pendingElement||null!=this._pendingState||this._pendingForceUpdate)){var n=this.context,o=this.props,i=this._currentElement;null!=this._pendingElement&&(i=this._pendingElement,n=this._processContext(i._context),o=this._processProps(i.props),this._pendingElement=null,this._compositeLifeCycleState=G.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(o,n)),this._compositeLifeCycleState=null;var s=this._pendingState||this.state;this._pendingState=null;var r=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(o,s,n);"production"!==process.env.NODE_ENV&&"undefined"==typeof r&&console.warn((this.constructor.displayName||"ReactCompositeComponent")+".shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false."),r?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,o,s,n,t)):(this._currentElement=i,this.props=o,this.state=s,this.context=n,this._owner=i._owner)}},_performComponentUpdate:function(t,e,n,o,i){var s=this._currentElement,r=this.props,a=this.state,p=this.context;this.componentWillUpdate&&this.componentWillUpdate(e,n,o),this._currentElement=t,this.props=e,this.state=n,this.context=o,this._owner=t._owner,this.updateComponent(i,s),this.componentDidUpdate&&i.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,r,a,p),this)},receiveComponent:function(t,e){(t!==this._currentElement||null==t._owner)&&d.Mixin.receiveComponent.call(this,t,e)},updateComponent:D.measure("ReactCompositeComponent","updateComponent",function(t,e){d.Mixin.updateComponent.call(this,t,e);var n=this._renderedComponent,o=n._currentElement,i=this._renderValidatedComponent();if(A(o,i))n.receiveComponent(i,t);else{var s=this._rootNodeID,r=n._rootNodeID;n.unmountComponent(),this._renderedComponent=I(i,this._currentElement.type);var a=this._renderedComponent.mountComponent(s,t,this._mountDepth+1);d.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(r,a)}}),forceUpdate:function(t){var e=this._compositeLifeCycleState;"production"!==process.env.NODE_ENV?x(this.isMounted()||e===G.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."):x(this.isMounted()||e===G.MOUNTING),"production"!==process.env.NODE_ENV?x(e!==G.UNMOUNTING&&null==h.current,"forceUpdate(...): Cannot force an update while unmounting component or within a `render` function."):x(e!==G.UNMOUNTING&&null==h.current),this._pendingForceUpdate=!0,R.enqueueUpdate(this,t)},_renderValidatedComponent:D.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var t,e=m.current;m.current=this._processChildContext(this._currentElement._context),h.current=this;try{t=this.render(),null===t||t===!1?(t=N.getEmptyComponent(),N.registerNullComponentID(this._rootNodeID)):N.deregisterNullComponentID(this._rootNodeID)}finally{m.current=e,h.current=null}return"production"!==process.env.NODE_ENV?x(_.isValidElement(t),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"):x(_.isValidElement(t)),t}),_bindAutoBindMethods:function(){for(var t in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(t)){var e=this.__reactAutoBindMap[t];this[t]=this._bindAutoBindMethod(f.guard(e,this.constructor.displayName+"."+t))}},_bindAutoBindMethod:function(t){var e=this,n=t.bind(e);if("production"!==process.env.NODE_ENV){n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var o=e.constructor.displayName,i=n.bind;n.bind=function(s){for(var r=[],a=1,p=arguments.length;p>a;a++)r.push(arguments[a]);if(s!==e&&null!==s)T("react_bind_warning",{component:o}),console.warn("bind(): React component methods may only be bound to the component instance. See "+o);else if(!r.length)return T("react_bind_warning",{component:o}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+o),n;var c=i.apply(n,arguments);return c.__reactBoundContext=e,c.__reactBoundMethod=t,c.__reactBoundArguments=r,c}}return n}},k=function(){};O(k.prototype,d.Mixin,C.Mixin,v.Mixin,B);var L={LifeCycle:G,Base:k,createClass:function(t){var e=function(){};e.prototype=new k,e.prototype.constructor=e,F.forEach(a.bind(null,e)),a(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),"production"!==process.env.NODE_ENV?x(e.prototype.render,"createClass(...): Class specification must implement a `render` method."):x(e.prototype.render),"production"!==process.env.NODE_ENV&&e.prototype.componentShouldUpdate&&(T("react_component_should_update_warning",{component:t.displayName}),console.warn((t.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value."));for(var n in Y)e.prototype[n]||(e.prototype[n]=null);return y.wrapFactory("production"!==process.env.NODE_ENV?E.createFactory(e):_.createFactory(e))},injection:{injectMixin:function(t){F.push(t)}}};n.exports=L});