define("kg/react/0.0.2/lib/BeforeInputEventPlugin",["./EventConstants","./EventPropagators","./ExecutionEnvironment","./SyntheticInputEvent","./keyOf"],function(e,t,n){"use strict";function o(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}var a=e("./EventConstants"),i=e("./EventPropagators"),s=e("./ExecutionEnvironment"),u=e("./SyntheticInputEvent"),p=e("./keyOf"),c=s.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||o()),l=32,f=String.fromCharCode(l),d=a.topLevelTypes,v={beforeInput:{phasedRegistrationNames:{bubbled:p({onBeforeInput:null}),captured:p({onBeforeInputCapture:null})},dependencies:[d.topCompositionEnd,d.topKeyPress,d.topTextInput,d.topPaste]}},y=null,h=!1,E={eventTypes:v,extractEvents:function(e,t,n,o){var a;if(c)switch(e){case d.topKeyPress:var s=o.which;if(s!==l)return;h=!0,a=f;break;case d.topTextInput:if(a=o.data,a===f&&h)return;break;default:return}else{switch(e){case d.topPaste:y=null;break;case d.topKeyPress:o.which&&!r(o)&&(y=String.fromCharCode(o.which));break;case d.topCompositionEnd:y=o.data}if(null===y)return;a=y}if(a){var p=u.getPooled(v.beforeInput,n,o);return p.data=a,y=null,i.accumulateTwoPhaseDispatches(p),p}}};n.exports=E});